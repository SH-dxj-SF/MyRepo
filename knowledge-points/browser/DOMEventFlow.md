# DOM 事件流的三个阶段

DOM 结构是一个树形结构，当一个 HTML 元素产生一个事件时，该事件会在元素节点和根结点（root，浏览器中为 window）之间的路径传播，路径所经过的节点都会收到该事件，这个传播过程可称为 DOM 事件流。

## 在 DOM 兼容浏览器中，事件流分为 3 个阶段

1. 捕获阶段：事件自 window 自上而下向目标节点传播的阶段；

2. 目标阶段：真正的目标节点正在处理事件的阶段；

3. 冒泡阶段：事件自目标节点自下而上向 window 传播的阶段。

## on-event 事件处理器和 addEventListener 的区别

1. on-event：

   - 属于 DOM level 0 events，最早提出的规范；

   - 将指定的事件注册到元素上实现，作为一个元素属性（所以会被覆盖，不可同时绑定两个相同事件处理器）；

   - 不支持事件捕获，默认只支持事件冒泡；

   - 清除方式简单，将属性置空即可

2. addEventListener：

   - 属于 DOM level 2 events，DOM 二级事件；

   - 可以给同一个元素设置相同事件的多个处理器而不冲突；

   - 可以指定事件监听的触发阶段（事件冒泡和事件捕获）；

   - 清除需通过 removeEventListener 方法，回调函数不可写为匿名函数，否则无法清除，并且时间类型和触发阶段也得对应上。
